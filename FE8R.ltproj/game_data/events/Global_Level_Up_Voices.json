[
    {
        "name": "Level_Up_Voices",
        "trigger": "during_unit_level_up",
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;game.level_vars['Training'] != True",
            "    #If gaining a lot of stats, play happy reaction.",
            "    if;sum(stat_changes.values()) > 4",
            "        add_portrait;{unit};LevelUpRight;normal;OpenEyes",
            "        expression;{unit};Smile",
            "        happy_chatter;{unit}",
            "        wait;3000",
            "        remove_portrait;{unit}",
            "    #If gaining few stats, play annoyed reaction.",
            "    elif;sum(stat_changes.values()) < 2",
            "        #If unit has an angry picture, display it.",
            "        if;unit.nid == 'Eirika'",
            "            add_portrait;{unit};LevelUpRight;normal;HalfCloseEyes",
            "            unhappy_chatter;{unit}",
            "            wait;3000",
            "            remove_portrait;{unit}",
            "        elif;unit.nid == 'Eliwood'",
            "           add_portrait;{unit};LevelUpRight;normal;HalfCloseEyes",
            "            unhappy_chatter;{unit}",
            "            wait;3000",
            "            remove_portrait;{unit}",
            "        elif;unit.nid == 'Hector'",
            "            add_portrait;{unit};LevelUpRight;normal;HalfCloseEyes",
            "            unhappy_chatter;{unit}",
            "            wait;3000",
            "            remove_portrait;{unit}",
            "        #If unit doesn't have an angry picture, just play sound.",
            "        else",
            "            unhappy_chatter;{unit}",
            "            wait;3000",
            "            remove_portrait;{unit}",
            "        end",
            "    end",
            "end"
        ],
        "nid": "Global Level_Up_Voices"
    }
]