[
    {
        "name": "DefeatBoss_17B",
        "trigger": "unit_wait",
        "level_nid": "17B",
        "condition": "game.check_dead(\"Lyon\")",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "remove_region;Trigger",
            "if;game.turncount <= 16",
            "    give_bexp;4000",
            "    else",
            "    give_bexp;2000",
            "    end",
            "reset;{unit}",
            "transition;close;500",
            "remove_all_units",
            "center_cursor;11,8;immediate",
            "transition;open;500",
            "resurrect;Lyon",
            "add_unit;Lyon;12,7;warp;closest",
            "move_unit;Lyon;12,8;normal;closest;1000;no_follow",
            "flicker_cursor;Lyon",
            "#music;45 Lost Heart",
            "music;45- Lost Heart Orchestral Cover;500",
            "add_portrait;Lyon Evil;Left",
            "speak;Lyon Evil;Not yet...|I have not the strength.|But I am the Demon King...|The world will be mine, as it was in ancient days.|Injuries such as these are not enough to stop me...;;;noir;;white",
            "remove_portrait;Lyon Evil",
            "move_unit;Lyon;12,10;normal;closest;1000;no_follow",
            "add_group;CinaB;20,6;immediate;stack",
            "move_group;CinaB;12,8;normal;closest;no_follow",
            "flicker_cursor;Lyon",
            "transition;close;500",
            "change_background;Plains1_Sunset",
            "transition;open;500",
            "multi_add_portrait;Eirika;FarRight;Ephraim;MidRight;Lyon Evil;Left",
            "speak;Ephraim;Demon King!",
            "speak;Lyon Evil;Come, Ephraim.|You should follow me.|If you've the strength to defeat me, that is...;;;noir;;white",
            "multi_remove_portrait;Eirika;Ephraim;Lyon Evil",
            "transition;close;500",
            "change_background",
            "transition;open;500",
            "remove_unit;Lyon;warp",
            "move_unit;Ephraim;12,9;normal;closest;no_follow",
            "flicker_cursor;Ephraim",
            "add_portrait;Ephraim;Left",
            "music_clear;300",
            "#music;38-Raid_;300",
            "music;38- Raid! Orchestral Cover;500",
            "speak;Ephraim;We will not let you flee!|After him, Eirika!|We have to find where he's gone.|Search everywhere!|I can't allow him to desecrate my friend's body any longer!",
            "remove_portrait;Ephraim",
            "transition;close;1000",
            "resurrect;Seth",
            "resurrect;Larachel",
            "resurrect;Myrrh",
            "if;game.check_alive('Lute') or game.check_alive('Knoll')",
            "resurrect;Doggo",
            "resurrect;BoneBoy",
            "resurrect;ZombieBoy",
            "resurrect;EyeBoy",
            "resurrect;GargoyleGirl",
            "resurrect;BaelBaby",
            "resurrect;HorseyBoy",
            "resurrect;HorseyGirl",
            "resurrect;SnakeGirl",
            "resurrect;CyclopsBoy",
            "else",
            "end",
            "for;PARTY_UNIT;{unit.nid for unit in game.get_units_in_party()}",
            "separate;{PARTY_UNIT}",
            "endf",
            "for;PARTY_UNIT;{unit.nid for unit in game.get_units_in_party()}",
            "reset;{PARTY_UNIT}",
            "endf",
            "clean_up_roaming",
            "remove_all_enemies",
            "change_roaming;t",
            "change_roaming_unit;Ephraim",
            "add_unit;Ephraim;20,6;immediate;closest",
            "add_unit;Seth;21,7;immediate;closest",
            "add_unit;Franz;15,20;immediate;closest",
            "add_unit;Gilliam;9,20;immediate;closest",
            "add_unit;Moulder;8,17;immediate;closest",
            "add_unit;Garcia;2,11;immediate;closest",
            "add_unit;Ross;3,11;immediate;closest",
            "add_unit;Vanessa;14,9;immediate;closest",
            "add_unit;Neimi;19,13;immediate;closest",
            "add_unit;Colm;19,12;immediate;closest",
            "add_unit;Lute;20,17;immediate;closest",
            "add_unit;Artur;3,14;immediate;closest",
            "add_unit;Natasha;8,19;immediate;closest",
            "add_unit;Joshua;11,20;immediate;closest",
            "add_unit;Forde;15,7;immediate;closest",
            "add_unit;Kyle;13,8;immediate;closest",
            "add_unit;Tana;11,8;immediate;closest",
            "add_unit;Amelia;8,13;immediate;closest",
            "add_unit;Innes;20,9;immediate;closest",
            "add_unit;Tethys;22,19;immediate;closest",
            "add_unit;Gerik;22,20;immediate;closest",
            "add_unit;Marisa;21,20;immediate;closest",
            "add_unit;Dozla;10,17;immediate;closest",
            "add_unit;Larachel;5,18;immediate;closest",
            "add_unit;Saleh;0,7;immediate;closest",
            "add_unit;Ewan;21,19;immediate;closest",
            "add_unit;Cormag;17,15;immediate;closest",
            "add_unit;Rennac;1,19;immediate;closest",
            "add_unit;Eirika;19,6;immediate;closest",
            "add_unit;Duessel;7,14;immediate;closest",
            "add_unit;Knoll;11,6;immediate;closest",
            "add_unit;Myrrh;19,9;immediate;closest",
            "add_unit;MyUnit;20,19;immediate;closest",
            "add_unit;Doggo;7,16;immediate;closest",
            "add_unit;BoneBoy;3,13;immediate;closest",
            "add_unit;ZombieBoy;14,7;immediate;closest",
            "add_unit;EyeBoy;1,16;immediate;closest",
            "add_unit;GargoyleGirl;14,8;immediate;closest",
            "add_unit;BaelBaby;15,9;immediate;closest",
            "add_unit;HorseyBoy;8,16;immediate;closest",
            "add_unit;HorseyGirl;5,17;immediate;closest",
            "add_unit;SnakeGirl;18,5;immediate;closest",
            "add_unit;CyclopsBoy;21,11;immediate;closest",
            "if;game.get_unit('Syrene').team == 'other'",
            "change_team;Syrene;player",
            "else",
            "end",
            "add_unit;Syrene;13,9;immediate;closest",
            "add_unit;125;7,17;immediate;closest",
            "add_unit;126;7,18;immediate;closest",
            "add_unit;127;6,18;immediate;closest",
            "add_unit;128;6,17;immediate;closest",
            "add_talk;Ephraim;Seth",
            "add_talk;Ephraim;Gilliam",
            "add_talk;Ephraim;Franz",
            "add_talk;Ephraim;Moulder",
            "add_talk;Ephraim;Garcia",
            "add_talk;Ephraim;Ross",
            "add_talk;Ephraim;Vanessa",
            "add_talk;Ephraim;Neimi",
            "add_talk;Ephraim;Colm",
            "add_talk;Ephraim;Lute",
            "add_talk;Ephraim;Artur",
            "add_talk;Ephraim;Natasha",
            "add_talk;Ephraim;Joshua",
            "add_talk;Ephraim;Forde",
            "add_talk;Ephraim;Kyle",
            "add_talk;Ephraim;Forde",
            "add_talk;Ephraim;Tana",
            "add_talk;Ephraim;Amelia",
            "add_talk;Ephraim;Innes",
            "add_talk;Ephraim;Gerik",
            "add_talk;Ephraim;Tethys",
            "add_talk;Ephraim;Marisa",
            "add_talk;Ephraim;Dozla",
            "add_talk;Ephraim;Larachel",
            "add_talk;Ephraim;Saleh",
            "add_talk;Ephraim;Ewan",
            "add_talk;Ephraim;Cormag",
            "add_talk;Ephraim;Rennac",
            "add_talk;Ephraim;Eirika",
            "add_talk;Ephraim;Duessel",
            "add_talk;Ephraim;Knoll",
            "add_talk;Ephraim;Myrrh",
            "add_talk;Ephraim;Syrene",
            "add_talk;Ephraim;MyUnit",
            "add_talk;Ephraim;125",
            "add_talk;Ephraim;126",
            "add_talk;Ephraim;127",
            "add_talk;Ephraim;128",
            "add_talk;Ephraim;Doggo",
            "add_talk;Ephraim;BoneBoy",
            "add_talk;Ephraim;ZombieBoy",
            "add_talk;Ephraim;EyeBoy",
            "add_talk;Ephraim;GargoyleGirl",
            "add_talk;Ephraim;BaelBaby",
            "add_talk;Ephraim;HorseyBoy",
            "add_talk;Ephraim;HorseyGirl",
            "add_talk;Ephraim;SnakeGirl",
            "add_talk;Ephraim;CyclopsBoy",
            "level_var;Training;True",
            "game_var;TrainingIndicator;0",
            "music;13- Truth Despair and Hope Orchestral Cover;500",
            "transition;open;500"
        ],
        "nid": "17B DefeatBoss_17B"
    }
]