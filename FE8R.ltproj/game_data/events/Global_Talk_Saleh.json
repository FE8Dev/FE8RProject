[
    {
        "name": "Talk_Saleh",
        "trigger": "on_talk",
        "level_nid": null,
        "condition": "check_pair('Eirika','Saleh') or check_pair('Ephraim','Saleh')",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;game.level.nid in ['2', '3', '4', '5', '6', '7', '8', '9A', '10A', '11A']",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Eirika;Right",
            "speak;Eirika;Test",
            "speak;Saleh;Test",
            "multi_remove_portrait;Eirika;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '12A'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Eirika;Right",
            "if;game.check_alive(\"Ewan\") or game.current_mode.permadeath != True",
            "speak;Eirika;Thank you for your help this battle Saleh.",
            "speak;Saleh;No, I should be thanking you for helping the village.|There are not many people, so any help is significant.",
            "speak;Eirika;Glad to help those in need.|The people's needs must be met.",
            "speak;Saleh;I see you are wise as you are kind.|Thank you.",
            "else",
            "speak;Eirika;Saleh?",
            "expression;Eirika;HalfCloseEyes",
            "speak;Eirika;I'm so sorry about Ewan...",
            "speak;Saleh;No, the blame is on me...",
            "expression;Saleh;CloseEyes",
            "speak;Saleh;I should have been a better master.|His blood is on my hands...",
            "speak;Eirika;.....;no_talk",
            "speak;Saleh;As his master, I will be the one to bury him.|It will be my final duty as master for him...|I'm sorry I have failed you...",
            "end",
            "multi_remove_portrait;Eirika;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '13A'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Eirika;Right",
            "speak;Eirika;Sorry Saleh, did I interrupt something?|Your eyes were closed until I came up to you.",
            "speak;Saleh;It's ok, Princess.|I was just finishing up something over here.|Did you need something?",
            "speak;Eirika;I was wondering if you could look over the medical supplies for a while.|The troops are about to rotate shifts.",
            "speak;Saleh;Understood.|Leave it to me.",
            "speak;Eirika;Thank you.|I hope you can tell me what what you were doing sometime, Saleh.|It looked interesting.",
            "speak;Saleh;Yes, we can talk about it another time.",
            "multi_remove_portrait;Eirika;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '14A'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Eirika;Right",
            "speak;Eirika;Anything on your end Saleh?",
            "speak;Saleh;Not yet.|I'm gathering my thoughts.|This place was a quiet place for me to think.",
            "speak;Eirika;Ok.|Please let me know if you find anything.",
            "speak;Saleh;Of course.",
            "multi_remove_portrait;Eirika;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '15A'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Eirika;Right",
            "speak;Eirika;Anything special about these bones, Saleh?",
            "speak;Saleh;Yes...|I believe these might be the bones of the ancestors of dragons...",
            "speak;Eirika;Ancestors?|Dragons were something different before?",
            "speak;Saleh;That just might be a theory I have.|Something has to come before legends, and these might be a part of the answer.|These bones don't match what current dragons look like.|So they changed form, either by magic or time.",
            "speak;Eirika;They changed form?|I'd imagine that must take a lot of magic to do that...",
            "speak;Saleh;Possibly, this is just a theory.|Another theory is that other dragons came from other lands.|The magic of Magvel then changed them to match the environment over time.|But there are still many unanswered questions...",
            "speak;Eirika;I see...|Dragons from other lands...",
            "multi_remove_portrait;Eirika;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '16A'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Eirika;Right",
            "speak;Eirika;Saleh, I wanted to thank you for your help this last battle.",
            "speak;Saleh;Think nothing of it.|As long as Myrrh is safe, you have my strength.",
            "speak;Eirika;I promise that Myrrh's safety will be a top priority.",
            "speak;Saleh;That brings me ease.|I know she isn't weak and insists on fighting, but it still is a concern.|Anything can happen in war.|It would be a disaster if anything happened to her.",
            "speak;Eirika;I understand.|Ephraim holds her in high esteem, so I will do the same.",
            "speak;Saleh;Thank you, Princess.",
            "multi_remove_portrait;Eirika;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '17A'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Eirika;Right",
            "speak;Saleh;Princess, I wish to speak to you.",
            "speak;Eirika;Saleh...|What is it?",
            "speak;Saleh;That aura coming from Prince Lyon...|It was most foul...",
            "speak;Eirika;.....;no_talk",
            "speak;Eirika;Do you think it could be a fake?|Someone impersonating Lyon with dark magic?",
            "speak;Saleh;...I cannot say for sure yet...|It is a possibility.",
            "speak;Eirika;So there is hope...",
            "multi_remove_portrait;Eirika;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '18A'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Eirika;Right",
            "speak;Eirika;Are you keeping cool, Saleh?",
            "speak;Saleh;I'm managing just fine.|Thank you for your concern, Princess.|This area has been known to be the death of many travelers.",
            "speak;Eirika;Being unprepared would be a very deadly situation here.",
            "speak;Saleh;Indeed.|Fortunately, we are wise in our preparations.",
            "multi_remove_portrait;Eirika;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '19A'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Eirika;Right",
            "speak;Eirika;Saleh, are you able to perform guard duty tonight?",
            "speak;Saleh;....I will be able to.",
            "speak;Eirika;You seem hesitant, Saleh.|Is something wrong?",
            "speak;Saleh;....I have some bad memories of guard duty.",
            "speak;Eirika;Oh really?|I'm sorry for bringing up bad memories...",
            "speak;Saleh;It's ok, Eirika.|As with life, we try to heal with time.",
            "speak;Eirika;Saleh...",
            "multi_remove_portrait;Eirika;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '20A'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Eirika;Right",
            "speak;Eirika;Saleh, do you have any information on that temple there?",
            "speak;Saleh;Darkwood Forest has a long record of historic battles.|It's believed to be the location of a major battle.|Some have even said that's where the final battle of the Demon King took place.",
            "speak;Eirika;The final battle with the Demon King?|If that's the case, why would Lyon be going there?",
            "speak;Saleh;I do not know.|This place was supposed to be guarded...|I don't like the sound of this...",
            "speak;Eirika;Me either...",
            "multi_remove_portrait;Eirika;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid in ['9B', '10B', '11B', '12B', '13B', '14B']",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Ephraim;Right",
            "speak;Ephraim;Test",
            "speak;Saleh;Test",
            "multi_remove_portrait;Ephraim;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '15B'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "if;game.check_alive(\"Ewan\") or game.current_mode.permadeath != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Ephraim;Right",
            "speak;Ephraim;Pardon me, but I noticed you were traveling with my sister.|I don't recognize you. Have we met before?",
            "speak;Saleh;Ah, you must be Prince Ephraim.|Princess Eirika told me about you.|I can see the resemblance.|Let me introduce myself.|I am Saleh.|I'm actually glad to meet you.|I understand Myrhh is traveling with you, correct?",
            "speak;Ephraim;....Correct.",
            "speak;Saleh;Good.|I have been searching for her for some time.|During my search I have made acquaintance with your sister.|I was informed you were traveling with her.",
            "speak;Ephraim;I see.|Yes, I have taken her under my protection.|I have made sure no harm comes to her.",
            "speak;Saleh;Perfect.|I will be joining you and aid you in her protection.|I am from Caer Pelyn and you could say I am a guardian of Myrhh.",
            "speak;Ephraim;A guardian you say?|I don't mind her having more protection.|Report to me later and we can talk more.",
            "speak;Saleh;Understood.|May our cooperation be fruitful.",
            "else",
            "add_portrait;Saleh;Left;;CloseEyes;no_block",
            "add_portrait;Ephraim;Right",
            "speak;Ephraim;Pardon me, but I noticed you were traveling with my sister.|I don't recognize you, have we met before?",
            "expression;Saleh;HalfCloseEyes",
            "speak;Saleh;....You must be Prince Ephraim.|I'm sorry, but I cannot speak to you right now...|I am in mourning right now over my disciple...|Please talk to me later, though.",
            "speak;Ephraim;I see...|I'll leave you be then...",
            "remove_portrait;Ephraim",
            "speak;Saleh;.....;no_talk",
            "expression;Saleh;CloseEyes",
            "speak;Saleh;Ewan...|I have failed you...",
            "remove_portrait;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '16B'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Ephraim;Right",
            "speak;Ephraim;Saleh, I wanted to thank you for your help this last battle.",
            "speak;Saleh;Think nothing of it.|As long as Myrrh is safe, you have my strength.",
            "speak;Ephraim;I promise that Myrrh's safety will be a top priority.",
            "speak;Saleh;That brings me ease.|I know she isn't weak and insists on fighting, but it still is a concern.|Anything can happen in war.|It would be a disaster if anything happened to her.",
            "speak;Ephraim;I understand.|Nothing will get past me.",
            "speak;Saleh;Good to hear, Prince.",
            "multi_remove_portrait;Ephraim;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '17B'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Ephraim;Right",
            "speak;Saleh;Prince Ephraim, I wish to speak to you.",
            "speak;Ephraim;Saleh...|What is it?",
            "speak;Saleh;That aura coming from Prince Lyon...|It was most foul...",
            "speak;Ephraim;.....;no_talk",
            "speak;Ephraim;Do you think it could be a fake?|Someone impersonating Lyon with dark magic?",
            "speak;Saleh;...I cannot say for sure yet...|But, my hopes are not high.",
            "speak;Ephraim;I see...",
            "multi_remove_portrait;Ephraim;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '18B'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Ephraim;Right",
            "speak;Ephraim;Are you keeping cool, Saleh?",
            "speak;Saleh;I'm managing just fine.|Thank you for your concern, Prince Ephraim.|This area has been known to be the death of many travelers.",
            "speak;Ephraim;Being unprepared would be a very deadly situation here.",
            "speak;Saleh;Indeed.|Fortunately, we are wise in our preparations.",
            "multi_remove_portrait;Ephraim;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '19B'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Ephraim;Right",
            "speak;Ephraim;Saleh, are you able to perform guard duty tonight?",
            "speak;Saleh;....I will be able to.",
            "speak;Ephraim;You seem hesitant, Saleh.|Is something wrong?",
            "speak;Saleh;....I have some bad memories of guard duty.",
            "speak;Ephraim;Oh really?|My apologies for bringing up bad memories.",
            "speak;Saleh;It's ok, Prince Ephraim.|As with life, we try to heal with time.",
            "speak;Ephraim;Time heals all wounds.",
            "multi_remove_portrait;Ephraim;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "elif;game.level.nid == '20B'",
            "",
            "if;game.level_vars['SkipTalkSaleh'] != True",
            "add_portrait;Saleh;Left;no_block",
            "add_portrait;Ephraim;Right",
            "speak;Ephraim;Saleh, do you have any information on that temple there?",
            "speak;Saleh;Darkwood Forest has a long record of hitoric battles.|It's believed to be the location of a major battle.|Some have even said that's where the final battle of the Demon King took place.",
            "speak;Ephraim;The final battle with the Demon King?|If that's the case, why would Lyon be going there?",
            "speak;Saleh;I do not know.|This place was supposed to be guarded...|I don't like the sound of this...",
            "speak;Ephraim;Me either...",
            "multi_remove_portrait;Ephraim;Saleh",
            "level_var;SkipTalkSaleh;True",
            "else",
            "end",
            "if;game.game_vars['TrainingIndicator'] <= 3",
            "trigger_script;Global Training",
            "else",
            "trigger_script;Global No_More_Talk",
            "end",
            "if;game.game_vars['TrainingIndicator'] == 4",
            "remove_talk;Eirika;Saleh",
            "remove_talk;Ephraim;Saleh",
            "else",
            "end",
            "",
            "else",
            "end",
            "end"
        ],
        "nid": "Global Talk_Saleh"
    }
]